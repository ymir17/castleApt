{% extends 'base.html' %}
{% block content %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/contacts.css' %}">
    <!--<script src="{% static 'js/contactspopup.js' %}"></script>-->
    <div class="realtorsbox">
            {% for realtor in realtors %}
                <div class="singlerealtor">
                {% for image in realtorImgs %}
                    {% if image.realtImgId == realtor.realtImgId_id %}
                        <img src="{{ image.realtImgUrl }}">
                    {% endif %}
                {% endfor %}
                {% for account in accounts %}
                    {% if account.accountId == realtor.accountId_id %}
                        <h4>{{ account.firstName }} {{ account.lastName }}</h4>
                    {% endif %}
                {% endfor %}
                </div>
                <div id="mypopup" class="modal">
                    <div class="popup-content">
                        <span class="close">&times;</span>
                        <div class="popupleft">
                            {% for image in realtorImgs %}
                                {% if image.realtImgId == realtor.realtImgId_id %}
                                    <img src="{{ image.realtImgUrl }}">
                                {% endif %}
                            {% endfor %}
                            <h4>Contact info:</h4>
                            <p>{{ realtor.description }}</p>
                            {% for account in accounts %}
                                {% if account.accountId == realtor.accountId_id %}
                                    <span>{{ account.email }}</span><br>
                                    <span>{{ account.phoneNo }}</span>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                </div>
            {% endfor %}

    </div>
    <script>
        // Get the modal
        var pop = document.getElementById("mypopup");

        // Get the button that opens the modal
        var btns = document.getElementsByClassName("singlerealtor");

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        for(var i = 0; i < btns.length; i++) {
            var btn = btns[i];
            btn.onclick = function() {
                pop.style.display = "block";
            }

            // When the user clicks on <span> (x), close the modal
            span.onclick = function() {
                pop.style.display = "none";
            }

            // When the user clicks anywhere outside of the modal, close it
            window.onclick = function(event) {
              if (event.target == pop) {
                  pop.style.display = "none";
              }
            }
        }
        // When the user clicks the button, open the modal

    </script>
{% endblock %}